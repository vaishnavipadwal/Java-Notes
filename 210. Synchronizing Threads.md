### **Synchronizing Threads in Java**

#### **What is Synchronization?**

In Java, **synchronization** is used to **control access to shared resources** by multiple threads. When multiple threads try to access a shared resource **simultaneously**, it may lead to **data inconsistency** or **unexpected behavior**. This is called a **race condition**.

To prevent this, Java provides synchronization so that **only one thread can access the critical section at a time**.

---

### **Types of Synchronization**

1. **Method Synchronization** – Entire method is locked for one thread at a time using `synchronized` keyword.
2. **Block Synchronization** – Only a block of code is synchronized (not the whole method).
3. **Static Synchronization** – When we synchronize a static method, the lock is on the **class**, not the object.

---

### **Example Program: Without Synchronization (Problem Case)**

```java
class Counter {
    int count = 0;

    public void increment() {
        count++; // critical section
    }
}

class MyThread extends Thread {
    Counter c;

    MyThread(Counter c) {
        this.c = c;
    }

    public void run() {
        for (int i = 0; i < 1000; i++) {
            c.increment();
        }
    }
}

public class WithoutSync {
    public static void main(String[] args) throws InterruptedException {
        Counter c = new Counter();

        MyThread t1 = new MyThread(c);
        MyThread t2 = new MyThread(c);

        t1.start();
        t2.start();

        t1.join();
        t2.join();

        System.out.println("Final count: " + c.count);
    }
}
```

**Expected Output:**  
`Final count: 2000`

**Actual Output (May vary):**  
`Final count: 1745` or some other inconsistent number due to race condition.

---

### **Now Fix It Using Synchronization**

```java
class Counter {
    int count = 0;

    public synchronized void increment() {
        count++; // synchronized critical section
    }
}
```

Now both threads **wait their turn** to execute `increment()` safely.

**Output Now:**  
`Final count: 2000`

---

### **Explanation**

- **Without synchronization**: Threads interfere with each other, leading to **inconsistent or corrupted data**.
- **With synchronization**: Only one thread at a time enters the method, ensuring **thread safety**.

