# **Design a Spring web application for registering a student for a TechFest event with form validation.**

---
### **Step 1: Set Up Spring Web Application**

First, create a **Spring MVC project** using **Spring Boot** for simplicity. This project will include dependencies like **Spring Web** and **Spring Validation**.

**pom.xml (for Maven users)**

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-thymeleaf</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-thymeleaf</artifactId>
    </dependency>
</dependencies>
```

---

### **Step 2: Create the Model Class for Student Registration**

Define the `Student` model with fields and validation annotations.

```java
import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.Email;
import javax.validation.constraints.Pattern;

public class Student {

    @NotEmpty(message = "Name is required")
    private String name;

    @NotEmpty(message = "Email is required")
    @Email(message = "Please provide a valid email address")
    private String email;

    @NotEmpty(message = "Department is required")
    private String department;

    @NotEmpty(message = "Phone number is required")
    @Pattern(regexp = "^[0-9]{10}$", message = "Phone number must be 10 digits")
    private String phone;

    // Getters and Setters

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getDepartment() {
        return department;
    }

    public void setDepartment(String department) {
        this.department = department;
    }

    public String getPhone() {
        return phone;
    }

    public void setPhone(String phone) {
        this.phone = phone;
    }
}
```

Here, we use annotations from **Javax Validation API** like `@NotEmpty`, `@Email`, and `@Pattern` to perform form validation.

---

### **Step 3: Create the Controller for Handling Requests**

Now, create a Spring MVC controller to handle the form submission.

```java
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;

import javax.validation.Valid;

@Controller
public class RegistrationController {

    @GetMapping("/register")
    public String showRegistrationForm(Model model) {
        model.addAttribute("student", new Student());
        return "registrationForm";
    }

    @PostMapping("/register")
    public String registerStudent(@Valid Student student, BindingResult result, Model model) {
        if (result.hasErrors()) {
            return "registrationForm"; // Return to form if there are errors
        }
        
        // Process the student registration (you can add service calls here)
        model.addAttribute("student", student);
        return "registrationSuccess";
    }
}
```

- **`showRegistrationForm`**: Displays the form for registration.
- **`registerStudent`**: Validates the form data and processes the registration.

---

### **Step 4: Create Thymeleaf Templates for the Form and Success Page**

1. **registrationForm.html** - This is the form where the user will enter the student information.

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Student Registration for TechFest</title>
</head>
<body>
    <h2>Student Registration for TechFest</h2>
    <form action="#" th:action="@{/register}" th:object="${student}" method="post">
        <div>
            <label>Name:</label>
            <input type="text" th:field="*{name}" />
            <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
        </div>
        
        <div>
            <label>Email:</label>
            <input type="email" th:field="*{email}" />
            <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
        </div>

        <div>
            <label>Department:</label>
            <input type="text" th:field="*{department}" />
            <span th:if="${#fields.hasErrors('department')}" th:errors="*{department}"></span>
        </div>

        <div>
            <label>Phone Number:</label>
            <input type="text" th:field="*{phone}" />
            <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></span>
        </div>

        <div>
            <button type="submit">Register</button>
        </div>
    </form>
</body>
</html>
```

2. **registrationSuccess.html** - This page will display the confirmation after successful registration.

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Registration Success</title>
</head>
<body>
    <h2>Registration Successful!</h2>
    <p>Thank you, <span th:text="${student.name}"></span>, for registering for the TechFest event.</p>
    <p>Email: <span th:text="${student.email}"></span></p>
    <p>Department: <span th:text="${student.department}"></span></p>
    <p>Phone: <span th:text="${student.phone}"></span></p>
</body>
</html>
```

---

### **Step 5: Configure Spring Boot Application**

Finally, create the main Spring Boot application class to run the application.

```java
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class TechFestApplication {
    public static void main(String[] args) {
        SpringApplication.run(TechFestApplication.class, args);
    }
}
```

---

